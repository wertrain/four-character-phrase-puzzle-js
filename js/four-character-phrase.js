{
  'use strict';
  
  const CHARACTER_SIZE = 64;

  FourCharacterPhrasePuzzle.FourCharacterPhrase = class {
    constructor(fcp) {
      this.text = fcp;
    }
    indexOf(i) {
      return this.text[i]
    }
    get length() {
      return this.text.length;
    }
  }

  FourCharacterPhrasePuzzle.draw = function(context, fcp, x, y) {
    context.font = CHARACTER_SIZE + 'px serif';
    for (let i = 0; i < fcp.length; ++i) {
      context.fillText(fcp.indexOf(i), x, y + (CHARACTER_SIZE * i));
    }
  };

  let FourCharacterPhraseTable = [
    '一衣帯水', 'いちいたいすい',
    '犬馬之労', 'けんばのろう',
    '羊頭狗肉', 'ようとうくにく',
    '鶏鳴狗盗', 'けいめいくとう',
    '切磋琢磨', 'せっさたくま',
    '他山之石', 'たざんのいし',
    '一意専心', 'いちいせんしん',
    '粒々辛苦', 'りゅうりゅうしんく',
    '傍若無人', 'ぼうじゃくぶじん',
    '行雲流水', 'こううんりゅうすい',
    '以心伝心', 'いしんでんしん',
    '文質彬彬', 'ぶんしつひんぴん',
    '温故知新', 'おんこちしん',
    '一石二鳥', 'いっせきにちょう',
    '二律背反', 'にりつはいはん',
    '朝三暮四', 'ちょうさんぼし',
    '朝令暮改', 'ちょうれいぼかい',
    '南船北馬', 'なんせんほくば',
    '呉越同舟', 'ごえつどうしゅう',
    '臥薪嘗胆', 'がしんしょうたん',
    '西施之顰', 'せいしのひそみ',
    '明眸皓歯', 'めいぼうこうし',
    '四面楚歌', 'しめんそか',
    '抜山蓋世', 'ばつざんがいせい',
    '巻土重来', 'けんどちょうらい',
    '栄耀栄華', 'えいようえいが',
    '槿花一朝', 'きんかいっちょう',
    '門前雀羅', 'もんぜんじゃくら',
    '乾坤一擲', 'けんこんいってき',
    '先憂後楽', 'せんゆうこうらく',
    '付和雷同', 'ふわらいどう',
    '大器晩成', 'たいきばんせい',
    '雪案蛍窓', 'せつあんけいそう',
    '晴耕雨読', 'せいこううどく',
    '巧言令色', 'こうげんれいしょく',
    '君子豹変', 'くんしひょうへん',
    '二束三文', 'にそくさんもん',
    '三位一体', 'さんみいったい',
    '青天霹靂', 'せいてんのへきれき',
    '前人未踏', 'ぜんじんみとう',
    '漁夫之利', 'ぎょふのり',
    '天長地久', 'てんちょうちきゅう',
    '比翼連理', 'ひよくれんり',
    '豪放磊落', 'ごうほうらいらく',
    '小心翼翼', 'しょうしんよくよく',
    '春風駘蕩', 'しゅんぷうたいとう',
    '天真爛漫', 'てんしんらんまん',
    '玉石混交', 'ぎょくせきこんこう',
    '千載一遇', 'せんざいいちぐう',
    '南山之寿', 'なんざんのじゅ',
    '画龍点睛', 'がりょうてんせい',
    '明窓浄机', 'めいそうじょうき',
    '孟母断機', 'もうぼだんき',
    '天衣無縫', 'てんいむほう',
    '泰山北斗', 'たいざんほくと',
    '桃李満門', 'とうりまんもん',
    '柳暗花明', 'りゅうあんかめい',
    '山紫水明', 'さんしすいめい',
    '黄梁一炊', 'こうりょういっすい',
    '率先垂範', 'そっせんすいはん',
    '品行方正', 'ひんこうほうせい',
    '清廉潔白', 'せいれんけっぱく',
    '曲水流觴', 'きょくすいりゅうしょう',
    '三寒四温', 'さんかんしおん',
    '四海兄弟', 'しかいけいてい',
    '前途洋洋', 'ぜんとようよう',
    '立身出世', 'りっしんしゅっせ',
    '青雲之志', 'せいうんのこころざし',
    '鶏口牛後', 'けいこうぎゅうご',
    '精励恪勤', 'せいれいかっきん',
    '自画自賛', 'じがじさん',
    '我田引水', 'がでんいんすい',
    '浅学非才', 'せんがくひさい',
    '和光同塵', 'わこうどうじん',
    '守株待兎', 'しゅしゅたいと',
    '塞翁之馬', 'さいおうがのうま',
    '漱石枕流', 'そうせきちんりゅう',
    '当意即妙', 'とういそくみょう',
    '臨機応変', 'りんきおうへん',
    '茶煙鬢糸', 'ちゃえんびんし',
    '光風霽月', 'こうふうせいげつ',
    '夜郎自大', 'やろうじだい',
    '鼓腹撃壌', 'こふくげきじょう',
    '土階三等', 'どかいさんとう',
    '酒池肉林', 'しゅちにくりん',
    '悪逆無道', 'あくぎゃくむどう',
    '荒唐無稽', 'こうとうむけい',
    '四分五裂', 'しぶんごれつ',
    '五里霧中', 'ごりむちゅう',
    '自暴自棄', 'じぼうじき',
    '君子三楽', 'くんしさんらく',
    '面目躍如', 'めんもくやくじょ',
    '国士無双', 'こくしむそう',
    '創業守成', 'そうぎょうしゅせい',
    '衣錦還郷', 'にしきをきてきょうにかえる',
    '五風十雨', 'ごふうじゅう',
    '意気揚々', 'いきようよう',
    '直情径行', 'ちょくじょうけいこう',
    '喜怒哀楽', 'きどあいらく',
    '百家争鳴', 'ひゃくかそうめい',
    '百花繚乱', 'ひゃくかりょうらん',
    '高山流水', 'こうざんりゅうすい',
    '管鮑之交', 'かんぽうのまじわり',
    '刎頸之交', 'ふんけいのまじわり',
    '単刀直入', 'たんとうちょくにゅう',
    '月下氷人', 'げっかひょうじん',
    '電光石火', 'でんこうせっか',
    '山高水長', 'さんこうすいちょう',
    '縁木求魚', 'えんぼくきゅうぎょ',
    '金科玉条', 'きんかぎょくじょう',
    '普天卒土', 'ふてんそっと',
    '桑田碧海', 'そうでんへきかい',
    '驚天動地', 'きょうてんどうち',
    '五臓六腑', 'ごぞうろっぷ',
    '六根清浄', 'ろっこんしょうじょう',
    '傾国傾城', 'けいこくけいせい',
    '沈魚落雁', 'ちんぎょらくがん',
    '窮鼠噛猫', 'きゅうそねこをかむ',
    '汗牛充棟', 'かんぎゅうじゅうとう',
    '虎視眈眈', 'こしたんたん',
    '烏兎匆匆', 'うとそうそう',
    '臥龍鳳雛', 'がりょうほうすう',
    '三顧之礼', 'さんこのれい',
    '画蛇添足', 'がだてんそく',
    '馬耳東風', 'ばじとうふう',
    '多岐亡羊', 'たきぼうよう',
    '籠鳥檻猿', 'ろうちょうかんえん',
    '元軽白俗', 'げんけいはくぞく',
    '鶏群一鶴', 'けいぐんのいっかく',
    '青眼白眼', 'せいがんはくがん',
    '喪家之狗', 'そうかのいぬ',
    '猪突猛進', 'ちょとつもうしん',
    '刻舟求剣', 'こくしゅうきゅうけん',
    '切歯扼腕', 'せっしやくわん',
    '和魂漢才', 'わこんかんさい',
    '唯々諾々', 'いいだくだく',
    '呑舟之魚', 'どんしゅうのうお',
    '背水之陣', 'はいすいのじん',
    '百尺竿頭', 'ひゃくしゃくかんとう',
    '空中楼閣', 'くうちゅうのろうかく',
    '七歩之才', 'しちほのさい',
    '隔靴掻痒', 'かっかそうよう',
    '言語道断', 'ごんごどうだん',
    '戦戦恐恐', 'せんせんきょうきょう',
    '後生可畏', 'こうせいおそるべし',
    '換骨奪胎', 'かんこつだったい',
    '浩然之気', 'こうぜんのき',
    '欣喜雀躍', 'きんきじゃくやく',
    '軽求肥馬', 'けいきゅうひば',
    '偕老同穴', 'かいろうどうけつ',
    '琴瑟相和', 'きんしつあいわす',
    '風樹之歎', 'ふうじゅのたん',
    '権謀術数', 'けんぼうじゅつすう',
    '堅忍不抜', 'けんにんふばつ',
    '出藍之誉', 'しゅつらんのほまれ',
    '朝雲暮雨', 'ちょううんぼう',
    '合従連衡', 'がっしょうれんこう',
    '呉下阿蒙', 'ごかのあもう',
    '呉牛喘月', 'ごぎゅうつきにあえぐ',
    '流汗淋漓', 'りゅうかんりんり',
    '心頭滅却', 'しんとうめっきゃく',
    '夏炉冬扇', 'かろとうせん',
    '南柯一夢', 'なんかいちむ',
    '壺中之天', 'こちゅうのてん',
    '七転八倒', 'しちてんばっとう',
    '八方美人', 'はっぽうびじん',
    '美人薄命', 'びじんはくめい',
    '一日之長', 'いちじつのちょう',
    '一網打尽', 'いちもうだじん',
    '天網恢恢', 'てんもうかいかい',
    '天馬行空', 'てんばこうくう',
    '鱸膾蓴羮', 'ろかいじゅんこう',
    '清風明月', 'せいふうめいげつ',
    '羽化登仙', 'うかとうせん',
    '杯盤狼藉', 'はいばんろうぜき',
    '文武両道', 'ぶんぶりょうどう',
    '茫然自失', 'ぼうぜんじしつ',
    '起死回生', 'きしかいせい',
    '危急存亡', 'ききゅうそんぼう',
    '危機一髪', 'ききいっぱつ',
    '正正堂堂', 'せいせいどうどう',
    '公明正大', 'こうめいせいだい',
    '肝胆相照', 'かんたんあいてらす',
    '多多益弁', 'たたますますべんず',
    '自業自得', 'じごうじとく',
    '因果応報', 'いんがおうほう',
    '天罰覿面', 'てんばつてきめん',
    '水魚之交', 'すいぎょのまじわり',
    '曲学阿世', 'きょくがくあせい',
    '弱肉強食', 'じゃくにくきょうしょく',
    '絶体絶命', 'ぜったいぜつめい',
    '九死一生', 'きゅうしいっしょう',
    '流言飛語', 'りゅうげんひご',
    '井底之蛙', 'せいていのあ',
    '蜀犬吠日', 'しょくけんはいじつ',
    '魑魅魍魎', 'ちみもうりょう',
    '妖怪変化', 'ようかいへんげ',
    '前度劉郎', 'ぜんどりゅうろう',
    '奇貨可居', 'きかおくべし',
    '優柔不断', 'ゆうじゅうふだん',
    '悠悠自適', 'ゆうゆうじてき',
    '三三五五', 'さんさんごご',
    '東山高臥', 'とうざんこうが',
    '閑雲野鶴', 'かんうんやかく',
    '鶴髪鶏皮', 'かくはつけいひ',
    '黄髪垂髫', 'こうはつすいちょう',
    '倚門之望', 'いもんのぼう',
    '反哺之心', 'はんぽのこころ',
    '夜雨対床', 'やうたいしょう',
    '江雲渭樹', 'こううんいじゅ',
    '常住坐臥', 'じょうじゅうざが',
    '東奔西走', 'とうほんせいそう',
    '神出鬼没', 'しんしゅつきぼつ',
    '勇往邁進', 'ゆうおうまいしん',
    '横行闊歩', 'おうこうかっぽ',
    '跳梁跋扈', 'ちょうりょうばっこ',
    '十羊九牧', 'じゅうようきゅうぼく',
    '繁文縟礼', 'はんぶんじょくれい',
    '規矩準縄', 'きくじゅんじょう',
    '支離滅裂', 'しりめつれつ',
    '有為転変', 'ういてんぺん',
    '栄枯盛衰', 'えいこせいすい',
    '刻苦勉励', 'こくくべんれい',
    '粉骨砕身', 'ふんこつさいしん',
    '迂余曲折', 'うよきょくせつ',
    '初志貫徹', 'しょしかんてつ',
    '空前絶後', 'くうぜんぜつご',
    '孟母三遷', 'もうぼさんせん',
    '匹夫之勇', 'ひっぷのゆう',
    '剛毅木訥', 'ごうきぼくとつ',
    '質実剛健', 'しつじつごうけん',
    '虚心坦懐', 'きょしんたんかい',
    '公平無私', 'こうへいむし',
    '青天白日', 'せいてんはくじつ',
    '秋霜烈日', 'しゅうそうれつじつ',
    '是是非非', 'ぜぜひひ',
    '無欲恬淡', 'むよくてんたん',
    '志操堅固', 'しそうけんご',
    '温厚篤実', 'おんこうとくじつ',
    '箕裘之業', 'ききゅうのぎょう',
    '面目躍如', 'めんもくやくじょ',
    '士農工商', 'しのうこうしょう',
    '一知半解', 'いっちはんかい',
    '読書百遍', 'どくしょひゃっぺん',
    '読書三余', 'どくしょさんよ',
    '談論風発', 'だんろんふうはつ',
    '内憂外患', 'ないゆうがいかん',
    '因循姑息', 'いんじゅんこそく',
    '責任転嫁', 'せきにんてんか',
    '信賞必罰', 'しんしょうひつばつ',
    '和氏之璧', 'かしのへき',
    '散髪箕踞', 'さんぱつききょ',
    '蓬頭垢面', 'ほうとうこうめん',
    '敝衣破帽', 'へいいはぼう',
    '放歌高吟', 'ほうかこうぎん',
    '悲憤慷慨', 'ひふんこうがい',
    '気息奄奄', 'きそくえんえん',
    '曖昧模糊', 'あいまいもこ',
    '不得要領', 'ふとくようりょう',
    '侃侃諤諤', 'かんかんがくがく',
    '喧喧囂囂', 'けんけんごうごう',
    '無我夢中', 'むがむちゅう',
    '右顧左眄', 'うこさべん',
    '橙黄橘緑', 'とうこうきつりょく',
    '白砂青松', 'はくさせいしょう',
    '長汀曲浦', 'ちょうていきょくほ',
    '晴好雨奇', 'せいこううき',
    '山容水態', 'さんようすいたい',
    '風光明媚', 'ふうこうめいび',
    '松柏後凋', 'しょうはくごちょう',
    '唇歯輔車', 'しんしほしゃ',
    '歯亡舌存', 'はほろびてしたそんす',
    '一病息災', 'いちびょうそくさい',
    '蒲柳之質', 'ほりゅうのしつ',
    '容貌魁偉', 'ようぼうかいい',
    '人品骨柄', 'じんぴんこつがら',
    '福徳円満', 'ふくとくえんまん',
    '不老長寿', 'ふろうちょうじゅ',
    '厚顔無恥', 'こうがんむち',
    '出処進退', 'しゅっしょしんたい',
    '依怙贔屓', 'えこひいき',
    '一視同仁', 'いっしどうじん',
    '独断専行', 'どくだんせんこう',
    '周章狼狽', 'しゅうしょうろうばい',
    '一陽来復', 'いちようらいふく',
    '順風満帆', 'じゅんぷうまんぱん',
    '忘年之交', 'ぼうねんのこう',
    '狐疑逡巡', 'こぎしゅんじゅん',
    '首鼠両端', 'しゅそりょうたん',
    '十年一日', 'じゅうねんいちじつ',
    '一日千秋', 'いちじつせんしゅう',
    '櫛風沐雨', 'しっぷうもくう',
    '大安吉日', 'たいあんきちじつ',
    '藍尾の酒', 'らんびのさけ',
    '糟糠之妻', 'そうこうのつま',
    '一家団欒', 'いっかだんらん',
    '暖衣飽食', 'だんいほうしょく',
    '冠婚葬祭', 'かんこんそうさい',
    '老少不定', 'ろうしょうふじょう',
    '千秋万歳', 'せんしゅうばんざい',
    '諸行無常', 'しょぎょうむじょう',
    '新陳代謝', 'しんちんたいしゃ',
    '一蓮托生', 'いちれんたくしょう',
    '風林火山', 'ふうりんかざん',
    '千軍万馬', 'せんぐんばんば',
    '一騎当千', 'いっきとうせん',
    '深謀遠慮', 'しんぼうえんりょ',
    '遠交近攻', 'えんこうきんこう',
    '論功行賞', 'ろんこうこうしょう',
    '眉目秀麗', 'びもくしゅうれい',
    '筋骨隆隆', 'きんこつりゅうりゅう',
    '温柔敦厚', 'おんじゅうとんこう',
    '軽佻浮薄', 'けいちょうふはく',
    '徒手空拳', 'としゅくうけん',
    '暴虎憑河', 'ぼうこひょうが',
    '獅子奮迅', 'ししふんじん',
    '波瀾万丈', 'はらんばんじょう',
    '落月屋梁', 'らくげつおくりょう',
    '孤立無援', 'こりつむえん',
    '天涯孤独', 'てんがいこどく',
    '孤影蕭然', 'こえいしょうぜん',
    '不撓不屈', 'ふとうふくつ',
    '知足安分', 'ちそくあんぶん',
    '修身斉家', 'しゅうしんせいか',
    '格物致知', 'かくぶつちち',
    '実事求是', 'じつじきゅうぜ',
    '経世済民', 'けいせいさいみん',
    '綸言如汗', 'りんげんあせのごとし',
    '駟不及舌', 'しもしたにおよばず',
    '頑迷固陋', 'がんめいころう',
    '前車之轍', 'ぜんしゃのてつ',
    '殷鑑不遠', 'いんかんとおからず',
    '面従腹背', 'めんじゅうふくはい',
    '傲岸不遜', 'ごうがんふそん',
    '多士済済', 'たしせいせい',
    '余裕綽綽', 'よゆうしゃくしゃく',
    '自給自足', 'じきゅうじそく',
    '同病相憐', 'どうびょうあいあわれむ',
    '九牛一毛', 'きゅうぎゅうのいちもう',
    '告朔餼羊', 'こくさくのきよう',
    '有名無実', 'ゆうめいむじつ',
    '老驥伏櫪', 'ろうきふくれき',
    '駑馬十駕', 'どばじゅうが',
    '眼光紙背', 'がんこうしはい',
    '韋編三絶', 'いへんさんぜつ',
    '読書三到', 'どくしょさんとう',
    '断章取義', 'だんしょうしゅぎ',
    '断簡零墨', 'だんかんれいぼく',
    '文人墨客', 'ぶんじんぼっかく',
    '気韻生動', 'きいんせいどう',
    '人面桃花', 'じんめんとうか',
    '人面獣心', 'じんめんじゅうしん',
    '鯨飲馬食', 'げいいんばしょく',
    '酔生夢死', 'すいせいむし',
    '浅酌低唱', 'せんしゃくていしょう',
    '同工異曲', 'どうこういきょく',
    '意気投合', 'いきとうごう',
    '莫逆之友', 'ばくぎゃくのとも',
    '宋襄之仁', 'そうじょうのじん',
    '恒産恒心', 'こうさんこうしん',
    '前代未聞', 'ぜんだいみもん',
    '不易流行', 'ふえきりゅうこう',
    '墨突不黔', 'ぼくとつふけん',
    '金声玉振', 'きんせいぎょくしん',
    '片言隻語', 'へんげんせきご',
    '一朝一夕', 'いっちょういっせき',
    '一期一会', 'いちごいちえ'
  ];
}
